<h2 id="-">概述</h2>
<p>编译选项可以在使用MSBuild的项目里通过MSBuild属性指定。</p>
<h2 id="-">例子</h2>
<pre><code class="lang-XML">  &lt;PropertyGroup Condition=&quot;&#39;$(Configuration)&#39; == &#39;Debug&#39;&quot;&gt;
    &lt;TypeScriptRemoveComments&gt;false&lt;/TypeScriptRemoveComments&gt;
    &lt;TypeScriptSourceMap&gt;true&lt;/TypeScriptSourceMap&gt;
  &lt;/PropertyGroup&gt;
  &lt;PropertyGroup Condition=&quot;&#39;$(Configuration)&#39; == &#39;Release&#39;&quot;&gt;
    &lt;TypeScriptRemoveComments&gt;true&lt;/TypeScriptRemoveComments&gt;
    &lt;TypeScriptSourceMap&gt;false&lt;/TypeScriptSourceMap&gt;
  &lt;/PropertyGroup&gt;
  &lt;Import
      Project=&quot;$(MSBuildExtensionsPath32)\Microsoft\VisualStudio\v$(VisualStudioVersion)\TypeScript\Microsoft.TypeScript.targets&quot;
      Condition=&quot;Exists(&#39;$(MSBuildExtensionsPath32)\Microsoft\VisualStudio\v$(VisualStudioVersion)\TypeScript\Microsoft.TypeScript.targets&#39;)&quot; /&gt;
</code></pre>
<h2 id="-">映射</h2>
<table>
<thead>
<tr>
<th>编译选项</th>
<th>MSBuild属性名称</th>
<th>可用值</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>--allowJs</code></td>
<td><em>MSBuild不支持此选项</em></td>
<td></td>
</tr>
<tr>
<td><code>--allowSyntheticDefaultImports</code></td>
<td>TypeScriptAllowSyntheticDefaultImports</td>
<td>布尔值</td>
</tr>
<tr>
<td><code>--allowUnreachableCode</code></td>
<td>TypeScriptAllowUnreachableCode</td>
<td>布尔值</td>
</tr>
<tr>
<td><code>--allowUnusedLabels</code></td>
<td>TypeScriptAllowUnusedLabels</td>
<td>布尔值</td>
</tr>
<tr>
<td><code>--alwaysStrict</code></td>
<td>TypeScriptAlwaysStrict</td>
<td>布尔值</td>
</tr>
<tr>
<td><code>--baseUrl</code></td>
<td>TypeScriptBaseUrl</td>
<td>文件路径</td>
</tr>
<tr>
<td><code>--charset</code></td>
<td>TypeScriptCharset</td>
<td></td>
</tr>
<tr>
<td><code>--declaration</code></td>
<td>TypeScriptGeneratesDeclarations</td>
<td>布尔值</td>
</tr>
<tr>
<td><code>--declarationDir</code></td>
<td>TypeScriptDeclarationDir</td>
<td>文件路径</td>
</tr>
<tr>
<td><code>--diagnostics</code></td>
<td><em>MSBuild不支持此选项</em></td>
<td></td>
</tr>
<tr>
<td><code>--disableSizeLimit</code></td>
<td><em>MSBuild不支持此选项</em></td>
<td></td>
</tr>
<tr>
<td><code>--emitBOM</code></td>
<td>TypeScriptEmitBOM</td>
<td>布尔值</td>
</tr>
<tr>
<td><code>--emitDecoratorMetadata</code></td>
<td>TypeScriptEmitDecoratorMetadata</td>
<td>布尔值</td>
</tr>
<tr>
<td><code>--experimentalAsyncFunctions</code></td>
<td>TypeScriptExperimentalAsyncFunctions</td>
<td>布尔值</td>
</tr>
<tr>
<td><code>--experimentalDecorators</code></td>
<td>TypeScriptExperimentalDecorators</td>
<td>布尔值</td>
</tr>
<tr>
<td><code>--forceConsistentCasingInFileNames</code></td>
<td>TypeScriptForceConsistentCasingInFileNames</td>
<td>布尔值</td>
</tr>
<tr>
<td><code>--help</code></td>
<td><em>MSBuild不支持此选项</em></td>
<td></td>
</tr>
<tr>
<td><code>--importHelpers</code></td>
<td>TypeScriptImportHelpers</td>
<td>布尔值</td>
</tr>
<tr>
<td><code>--inlineSourceMap</code></td>
<td>TypeScriptInlineSourceMap</td>
<td>布尔值</td>
</tr>
<tr>
<td><code>--inlineSources</code></td>
<td>TypeScriptInlineSources</td>
<td>布尔值</td>
</tr>
<tr>
<td><code>--init</code></td>
<td><em>MSBuild不支持此选项</em></td>
<td></td>
</tr>
<tr>
<td><code>--isolatedModules</code></td>
<td>TypeScriptIsolatedModules</td>
<td>布尔值</td>
</tr>
<tr>
<td><code>--jsx</code></td>
<td>TypeScriptJSXEmit</td>
<td><code>React</code>或<code>Preserve</code></td>
</tr>
<tr>
<td><code>--jsxFactory</code></td>
<td>TypeScriptJSXFactory</td>
<td>有效的名字</td>
</tr>
<tr>
<td><code>--lib</code></td>
<td>TypeScriptLib</td>
<td>逗号分隔的字符串列表</td>
</tr>
<tr>
<td><code>--listEmittedFiles</code></td>
<td><em>MSBuild不支持此选项</em></td>
<td></td>
</tr>
<tr>
<td><code>--listFiles</code></td>
<td><em>MSBuild不支持此选项</em></td>
<td></td>
</tr>
<tr>
<td><code>--locale</code></td>
<td><em>automatic</em></td>
<td>自动设置为PreferredUILang值</td>
</tr>
<tr>
<td><code>--mapRoot</code></td>
<td>TypeScriptMapRoot</td>
<td>文件路径</td>
</tr>
<tr>
<td><code>--maxNodeModuleJsDepth</code></td>
<td><em>MSBuild不支持此选项</em></td>
<td></td>
</tr>
<tr>
<td><code>--module</code></td>
<td>TypeScriptModuleKind</td>
<td><code>AMD</code>，<code>CommonJs</code>，<code>UMD</code>，<code>System</code>或<code>ES6</code></td>
</tr>
<tr>
<td><code>--moduleResolution</code></td>
<td>TypeScriptModuleResolution</td>
<td><code>Classic</code>或<code>Node</code></td>
</tr>
<tr>
<td><code>--newLine</code></td>
<td>TypeScriptNewLine</td>
<td><code>CRLF</code>或<code>LF</code></td>
</tr>
<tr>
<td><code>--noEmit</code></td>
<td><em>MSBuild不支持此选项</em></td>
<td></td>
</tr>
<tr>
<td><code>--noEmitHelpers</code></td>
<td>TypeScriptNoEmitHelpers</td>
<td>布尔值</td>
</tr>
<tr>
<td><code>--noEmitOnError</code></td>
<td>TypeScriptNoEmitOnError</td>
<td>布尔值</td>
</tr>
<tr>
<td><code>--noFallthroughCasesInSwitch</code></td>
<td>TypeScriptNoFallthroughCasesInSwitch</td>
<td>布尔值</td>
</tr>
<tr>
<td><code>--noImplicitAny</code></td>
<td>TypeScriptNoImplicitAny</td>
<td>布尔值</td>
</tr>
<tr>
<td><code>--noImplicitReturns</code></td>
<td>TypeScriptNoImplicitReturns</td>
<td>布尔值</td>
</tr>
<tr>
<td><code>--noImplicitThis</code></td>
<td>TypeScriptNoImplicitThis</td>
<td>布尔值</td>
</tr>
<tr>
<td><code>--noImplicitUseStrict</code></td>
<td>TypeScriptNoImplicitUseStrict</td>
<td>布尔值</td>
</tr>
<tr>
<td><code>--noUnusedLocals</code></td>
<td>TypeScriptNoUnusedLocals</td>
<td>布尔值</td>
</tr>
<tr>
<td><code>--noUnusedParameters</code></td>
<td>TypeScriptNoUnusedParameters</td>
<td>布尔值</td>
</tr>
<tr>
<td><code>--noLib</code></td>
<td>TypeScriptNoLib</td>
<td>布尔值</td>
</tr>
<tr>
<td><code>--noResolve</code></td>
<td>TypeScriptNoResolve</td>
<td>布尔值</td>
</tr>
<tr>
<td><code>--out</code></td>
<td>TypeScriptOutFile</td>
<td>文件路径</td>
</tr>
<tr>
<td><code>--outDir</code></td>
<td>TypeScriptOutDir</td>
<td>文件路径</td>
</tr>
<tr>
<td><code>--outFile</code></td>
<td>TypeScriptOutFile</td>
<td>文件路径</td>
</tr>
<tr>
<td><code>--paths</code></td>
<td><em>MSBuild不支持此选项</em></td>
<td></td>
</tr>
<tr>
<td><code>--preserveConstEnums</code></td>
<td>TypeScriptPreserveConstEnums</td>
<td>布尔值</td>
</tr>
<tr>
<td><code>--listEmittedFiles</code></td>
<td><em>MSBuild不支持此选项</em></td>
<td></td>
</tr>
<tr>
<td><code>--pretty</code></td>
<td><em>MSBuild不支持此选项</em></td>
<td></td>
</tr>
<tr>
<td><code>--reactNamespace</code></td>
<td>TypeScriptReactNamespace</td>
<td>字符串</td>
</tr>
<tr>
<td><code>--removeComments</code></td>
<td>TypeScriptRemoveComments</td>
<td>布尔值</td>
</tr>
<tr>
<td><code>--rootDir</code></td>
<td>TypeScriptRootDir</td>
<td>文件路径</td>
</tr>
<tr>
<td><code>--rootDirs</code></td>
<td><em>MSBuild不支持此选项</em></td>
<td></td>
</tr>
<tr>
<td><code>--skipLibCheck</code></td>
<td>TypeScriptSkipLibCheck</td>
<td>布尔值</td>
</tr>
<tr>
<td><code>--skipDefaultLibCheck</code></td>
<td>TypeScriptSkipDefaultLibCheck</td>
<td>布尔值</td>
</tr>
<tr>
<td><code>--sourceMap</code></td>
<td>TypeScriptSourceMap</td>
<td>文件路径</td>
</tr>
<tr>
<td><code>--sourceRoot</code></td>
<td>TypeScriptSourceRoot</td>
<td>文件路径</td>
</tr>
<tr>
<td><code>--strictNullChecks</code></td>
<td>TypeScriptStrictNullChecks</td>
<td>布尔值</td>
</tr>
<tr>
<td><code>--stripInternal</code></td>
<td>TypeScriptStripInternal</td>
<td>布尔值</td>
</tr>
<tr>
<td><code>--suppressExcessPropertyErrors</code></td>
<td>TypeScriptSuppressExcessPropertyErrors</td>
<td>布尔值</td>
</tr>
<tr>
<td><code>--suppressImplicitAnyIndexErrors</code></td>
<td>TypeScriptSuppressImplicitAnyIndexErrors</td>
<td>布尔值</td>
</tr>
<tr>
<td><code>--target</code></td>
<td>TypeScriptTarget</td>
<td><code>ES3</code>，<code>ES5</code>，或<code>ES6</code></td>
</tr>
<tr>
<td><code>--traceResolution</code></td>
<td><em>MSBuild不支持此选项</em></td>
<td></td>
</tr>
<tr>
<td><code>--types</code></td>
<td><em>MSBuild不支持此选项</em></td>
<td></td>
</tr>
<tr>
<td><code>--typeRoots</code></td>
<td><em>MSBuild不支持此选项</em></td>
<td></td>
</tr>
<tr>
<td><code>--watch</code></td>
<td><em>MSBuild不支持此选项</em></td>
<td></td>
</tr>
<tr>
<td><em>MSBuild only option</em></td>
<td>TypeScriptAdditionalFlags</td>
<td><em>任何编译选项</em></td>
</tr>
</tbody>
</table>
<h2 id="-visual-studio-">我使用的Visual Studio版本里支持哪些选项?</h2>
<p>查找 <code>C:\Program Files (x86)\MSBuild\Microsoft\VisualStudio\v$(VisualStudioVersion)\TypeScript\Microsoft.TypeScript.targets</code> 文件。
可用的MSBuild XML标签与相应的<code>tsc</code>编译选项的映射都在那里。</p>
<h2 id="toolsversion">ToolsVersion</h2>
<p>工程文件里的<code>&lt;TypeScriptToolsVersion&gt;1.7&lt;/TypeScriptToolsVersion&gt;</code>属性值表明了构建时使用的编译器的版本号（这个例子里是1.7）
这样就允许一个工程在不同的机器上使用固定的版本去编译。</p>
<p>如果没有指定<code>TypeScriptToolsVersion</code>，则会使用机器上安装的最新版本的编译器去构建。</p>
<p>如果用户使用的是更新版本的TypeScript，则会在首次加载工程的时候看到一个提示升级工程的对话框。</p>
<h2 id="typescriptcompileblocked">TypeScriptCompileBlocked</h2>
<p>如果你使用其它的构建工具（比如，gulp， grunt等等）并且使用VS做为开发和调试工具，那么在工程里设置<code>&lt;TypeScriptCompileBlocked&gt;true&lt;/TypeScriptCompileBlocked&gt;</code>。
这样VS只会提供给你编辑的功能，而不会在你按F5的时候去构建。</p>
